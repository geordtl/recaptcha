<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recaptcha</title>

    <style>
        msg-error {
            color: #c65848;
        }

        .g-recaptcha.error {
            border: solid 2px #c64848;
            padding: .2em;
            width: 19em;
        }
    </style>
</head>

<body>
    <span class="msg-error error"></span>
    <div id="recaptcha" class="g-recaptcha" data-sitekey=""></div>

    <button class="btn" id="btn-validate">Validate reCAPTCHA</button>
</body>

<script src="https://www.google.com/recaptcha/api.js"></script>
<script>
    let btn_validate = document.getElementById('btn-validate')
    let recaptcha = document.getElementById('recaptcha');
    let msg_error = document.getElementsByClassName('msg-error');
    btn_validate.click(function () {
        var captcha = recaptcha,
            response = grecaptcha.getResponse();

        if (response.length === 0) {
            msg_error.text("reCAPTCHA is mandatory");
            if (!captcha.hasClass("error")) {
                captcha.addClass("error");
            }
        } else {
            msg_error.text('');
            captcha.removeClass("error");
            alert('reCAPTCHA marked');
        }
    })
</script>

</html>
